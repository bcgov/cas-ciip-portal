# Changelog

All notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.

## [1.0.0-rc.1](https://github.com/bcgov/cas-ciip-portal/compare/v1.0.0-alpha.2...v1.0.0-rc.1) (2020-06-05)


### âš  BREAKING CHANGES

* **product:** make necessary column name changes to all references to ggircs_portal.product in other files
* **product:** create enum for product_state & update product table

### Features

* (wip) update computed column to be searchable ([546d1b4](https://github.com/bcgov/cas-ciip-portal/commit/546d1b44e60673d3eb4cbd99b72f0d76b88117ff))
* add a foreign key to the search_certification_result type on application_id ([674cea8](https://github.com/bcgov/cas-ciip-portal/commit/674cea85f8ef751377ce08b1a4790ea2b32bdab2))
* add a function to validate existence of energy products if required ([0081256](https://github.com/bcgov/cas-ciip-portal/commit/0081256ccdb561d760c6f889514c51da23bdde92))
* add computed column has_certification_requests to return boolean true if certification requests exist for user ([d179b3e](https://github.com/bcgov/cas-ciip-portal/commit/d179b3e0187bf7211234af1ec855afbd12b533fa))
* add email trigger for 'create application' & fix trigger not to send an email when version = 0 ([3d78c12](https://github.com/bcgov/cas-ciip-portal/commit/3d78c1250ad5a42b0033d710195972c9b955c565))
* add missing return in PaginationBar ([f9e581b](https://github.com/bcgov/cas-ciip-portal/commit/f9e581bd65e15dd1c481b2f03a5ae7bd0fb566c9))
* add more columns to the incentive calculator ([a6513f6](https://github.com/bcgov/cas-ciip-portal/commit/a6513f6ff8ec36990a3636c3e60dc3fe45ff6335))
* add pagination to certifier requests page ([4e078b5](https://github.com/bcgov/cas-ciip-portal/commit/4e078b5bec8ba915839c94fa432d2a84d2afdb5e))
* add return type for search function ([790c79b](https://github.com/bcgov/cas-ciip-portal/commit/790c79be4b9220ef48b2eaf9484d1e8372951ede))
* Add swrs_deadline column to reporting_year ([1b3df5c](https://github.com/bcgov/cas-ciip-portal/commit/1b3df5ca2436808ae153114830e52adc5113a48a))
* add trigger for org access request email ([481d8b8](https://github.com/bcgov/cas-ciip-portal/commit/481d8b8bf7ac9f2193d6063ef40dffdeaf966b42))
* add trigger for organisation access approved email ([796c8ee](https://github.com/bcgov/cas-ciip-portal/commit/796c8eede93434fe8de968ae36ff864751c561da))
* create common component for pagination ([8b551e7](https://github.com/bcgov/cas-ciip-portal/commit/8b551e72995d61299f03d88c87b98177af0f3e82))
* create new requestsContainer for search function ([1732c47](https://github.com/bcgov/cas-ciip-portal/commit/1732c47edcb71fdf27c330cbbb0a75598945d198))
* create standalone search function for certificaiton requests ([cda877b](https://github.com/bcgov/cas-ciip-portal/commit/cda877be31e0da6ab62feface7416a140bde95a6))
* Diff URLs for application & site disclaimers ([a97c882](https://github.com/bcgov/cas-ciip-portal/commit/a97c8822142296f30147f911c48d3a25807e8c3c))
* Finalize copy on application summary page ([d6ceb9d](https://github.com/bcgov/cas-ciip-portal/commit/d6ceb9de4fbfe3a3d507a0e370f27bf6038f1179))
* Finalize copy on certifier redirect page ([0178915](https://github.com/bcgov/cas-ciip-portal/commit/0178915ec392b998b322a47d1e895be7b8737877))
* Finalize copy on reporter dashboard ([5aadd83](https://github.com/bcgov/cas-ciip-portal/commit/5aadd8315c21b912bdf7e44f55725cf83cb48fc1))
* Finalize copy on the certification page ([bf56840](https://github.com/bcgov/cas-ciip-portal/commit/bf56840b9243bbf62c6a9a9f4d8fd3f65b02db02))
* Finalize landing page copy ([dfb347b](https://github.com/bcgov/cas-ciip-portal/commit/dfb347bb98a042a093f9653bc59f50e940b6e03d))
* Finalize legal disclaimer, 1-step consent ([da6376b](https://github.com/bcgov/cas-ciip-portal/commit/da6376b31cee0f0ea1e3b31768096dad8311505f))
* fix syntax errors / relay naming bugs ([82b2903](https://github.com/bcgov/cas-ciip-portal/commit/82b29032ebb7a9299b83663ac97e4b97fef7a1e9))
* Link to batch certify page from dash + email ([4e9c250](https://github.com/bcgov/cas-ciip-portal/commit/4e9c25066cb4e980a9a881bcacf874cf1030a609))
* Mock current_timestamp reflects this year ([edd7245](https://github.com/bcgov/cas-ciip-portal/commit/edd7245aaab270634b70b2adaeba800f1cf29c5a))
* Remove disclaimer checklist before signature ([2a2e876](https://github.com/bcgov/cas-ciip-portal/commit/2a2e876ee943a2a378778ee81dc820b31a06be3d))
* Remove operator DUNS from application form ([17d8937](https://github.com/bcgov/cas-ciip-portal/commit/17d893760b43d76f34eeba94793596b92f7c9e99))
* Remove unecessary facility info from form ([9a662ab](https://github.com/bcgov/cas-ciip-portal/commit/9a662abc47761207590e783a1230181774cf07db))
* Update additional date in reg/login prompt ([e1050b2](https://github.com/bcgov/cas-ciip-portal/commit/e1050b26a2ffbe31ec74808afd65c331668c164b))
* update certification_requests computed column to be searchable ([9743e15](https://github.com/bcgov/cas-ciip-portal/commit/9743e154d84d9b5686b46ee4831f1b7c39a4280f))
* update schema ([d163d08](https://github.com/bcgov/cas-ciip-portal/commit/d163d0871e7fef57b9b3cb8714f81ed95ffa8c5a))
* update triggers to also notify analyst/admin on org request / app submission ([67250d8](https://github.com/bcgov/cas-ciip-portal/commit/67250d834e62ba59109b120c8a170414dd28b1d8))
* use common PaginationBar component in FacilitiesList ([45f9d5b](https://github.com/bcgov/cas-ciip-portal/commit/45f9d5bc51e01d0674994640979fcaece5544670))
* **benchmark:** add past benchmarks to modal as a table ([f24ef43](https://github.com/bcgov/cas-ciip-portal/commit/f24ef43b39e5803bc8d8b28308786fba18b9fbaa))
* **benchmark:** update graphql schema ([fd29022](https://github.com/bcgov/cas-ciip-portal/commit/fd29022541520490201e1a14ea13ffb394f4b8ae))
* **benchmark:** update schema & sqitch plan ([e8f54d0](https://github.com/bcgov/cas-ciip-portal/commit/e8f54d0af630a9aefa117211d772974495e771d2))
* **certification:** update submit certification request UI ([a6525f3](https://github.com/bcgov/cas-ciip-portal/commit/a6525f3b287aa5efe5185768a0f77f5be27aa86c))
* **emission:** add emission category 'Other, non-carbontaxed' & make sure it is not selected in init_application_emission_form_result.sql ([145859b](https://github.com/bcgov/cas-ciip-portal/commit/145859b9ba9e401c576ef30c38bb5d7daef10042))
* **emission:** ignore fuels with non-carbontaxed emission category in the carbon tax calculation ([5f07be7](https://github.com/bcgov/cas-ciip-portal/commit/5f07be7a761c0b0e1f652d03a43595bee04c5ade))
* **emission:** update join to ignore fuels that fall into the non carbon-taxed category ([36d8087](https://github.com/bcgov/cas-ciip-portal/commit/36d808746908965a295cd60225f8fe21a1c2afa4))
* **fuel-form:** add fuel emission category and import from SWRS ([48bacc3](https://github.com/bcgov/cas-ciip-portal/commit/48bacc389a3fa329310b6d59cf5947c1418fed7b))
* **keycloak:** add conditional for null project (local) ([785d4e4](https://github.com/bcgov/cas-ciip-portal/commit/785d4e42a6aa54bbe7061b64798d47bee324ca49))
* **keycloak:** add export files for test/prod & add explicit filename for dev export ([ffeda7f](https://github.com/bcgov/cas-ciip-portal/commit/ffeda7fd5c51df1cb00ab6914ce497025ea8d971))
* **keycloak:** dynamic auth-server-url by namespace ([108fcc7](https://github.com/bcgov/cas-ciip-portal/commit/108fcc7d3a027767f75a0075c4c8ae5dd3c5217c))
* **keycloak:** ignore export files in 'detect secrets' step ([0868704](https://github.com/bcgov/cas-ciip-portal/commit/0868704c9720b80e607038878cc949f42a5c65ea))
* **keycloak:** update pre-commit excludes with proper pattern ([7ef7e30](https://github.com/bcgov/cas-ciip-portal/commit/7ef7e30a77b3278d1b1ee572cf6b941a87f29d9b))
* Update key dates for landing page ([919d38f](https://github.com/bcgov/cas-ciip-portal/commit/919d38fef4ea3ba2d0d6a85cb5b931ce62d0a6fb))
* **organisation requests:** add row level security permissions for ciip_analyst on ciip_user_organisation table ([40038c5](https://github.com/bcgov/cas-ciip-portal/commit/40038c5e19899114a60cf5eadb4129d95e4ac410))
* **organisation requests:** allow analyst group access via front-end to organisations-request page ([7628656](https://github.com/bcgov/cas-ciip-portal/commit/7628656a1cf91a20363aa8e9332be66927ace359))
* **product:** Add a reminder to check guidance on emission allocation if any product in the form requires emission allocation ([ada8690](https://github.com/bcgov/cas-ciip-portal/commit/ada86908afada6366e047b68006c93c7b5c66b09))
* **product:** add is_read_only boolean column to product table & update protect_read_only trigger function to raise an exception if true ([026a26a](https://github.com/bcgov/cas-ciip-portal/commit/026a26a821ee0b924a57aa963e9f2974658de7ca))
* **product:** add partial index on product table where product_state=published ([d906c31](https://github.com/bcgov/cas-ciip-portal/commit/d906c31b36d411ef26baf04b56892c6eab9a5ada))
* **product:** add tooltips on hover to edit benchmark/product icons ([652f9e4](https://github.com/bcgov/cas-ciip-portal/commit/652f9e4be80131b429f26f3959e875e2b4432524))
* **product:** add trigger function to protect read-only product rows/columns ([0f0deec](https://github.com/bcgov/cas-ciip-portal/commit/0f0deec755f67ff893ed091d1a66c9f87f05eaaf))
* **product:** allow benchmark editing for read-only products, split state=archived from read-only ([18bbdc6](https://github.com/bcgov/cas-ciip-portal/commit/18bbdc661fe037a2ed1a61e9dd85a03a6d16fd46))
* **product:** create enum for product_state & update product table ([95ba5f5](https://github.com/bcgov/cas-ciip-portal/commit/95ba5f534cc9d8b80fd04135b16f5a526e0851a4))
* **product:** fix enum comparison (capitalize) ([a37844d](https://github.com/bcgov/cas-ciip-portal/commit/a37844d5abbb852e7333c06cc4fbc45cf3ec41a4))
* **product:** only check if the allocation reminder should show when on the production form ([e14565b](https://github.com/bcgov/cas-ciip-portal/commit/e14565bcea88b81a1ce8073cbdb0dac44789abac))
* **product:** remove future benchmarks ([848720f](https://github.com/bcgov/cas-ciip-portal/commit/848720f07fb90a75ba7985e61f1c31f8d5d62591))
* **product:** remove unnecessary boolean check (archived state is always read-only) ([c2628a7](https://github.com/bcgov/cas-ciip-portal/commit/c2628a7f9adb5cdb797625850e5d15b783069299))
* **product:** rename name -> productName in json schema, close modal on save & use updateProductCount hack to ensure data refresh ([36d0ad0](https://github.com/bcgov/cas-ciip-portal/commit/36d0ad09145c397975223999961a3d64c041f653))
* **product:** split deploy_data files for product: energy products stay in prod/ all other products moved to test/ ([d5f3388](https://github.com/bcgov/cas-ciip-portal/commit/d5f3388120c48703a5b89cd493e3c7c3f8962366))
* **product:** update edit/view icons & disable form in modal based on productState ([ec6da7f](https://github.com/bcgov/cas-ciip-portal/commit/ec6da7f463a525007714a9863d57df05f483bc84))
* **product:** update modal fields to be disabled if isReadOnly=true & update search function to include new column ([b51b4a3](https://github.com/bcgov/cas-ciip-portal/commit/b51b4a31e7d7435bbb504c83f28d8c92f07ad071))
* **product:** update product data & set all energy products to read_only=true ([4c72b25](https://github.com/bcgov/cas-ciip-portal/commit/4c72b2581048be17465040cc71f81a158e7c2c6d))
* **product:** update protect_read_only_products trigger to automatically set is_read_only to true if state changes to archived ([903a0fa](https://github.com/bcgov/cas-ciip-portal/commit/903a0fad66db1b8d1aca80e0597cb206f4826642))
* add toast messages on mutation success/failure ([1764a3a](https://github.com/bcgov/cas-ciip-portal/commit/1764a3a0718b5d96390f1cfb93b2c8afa6495752))
* Admin view + edit reporting period details ([0d49207](https://github.com/bcgov/cas-ciip-portal/commit/0d492072044247b3bfb91cd391b06c4047e804e8))
* Certifier page lists certification requests ([d594323](https://github.com/bcgov/cas-ciip-portal/commit/d5943238ada398cd0fdafda645d0dcdacfcb3215))
* import dev data to eccc_xml_file table ([6c575e9](https://github.com/bcgov/cas-ciip-portal/commit/6c575e9480abb0143e6dc3cac88c5395ef05e5d5))
* Query user certification requests by email ([301585f](https://github.com/bcgov/cas-ciip-portal/commit/301585f701deacf2e0f145fb7bf1215c2df90f52))
* **product:** update logic in trigger function & misnamed schema in product table ([6c743b3](https://github.com/bcgov/cas-ciip-portal/commit/6c743b3d3e26f5749437a6585432378ed16998cf))
* **product:** update product/benchmark modals & add custom widget ([17ad580](https://github.com/bcgov/cas-ciip-portal/commit/17ad58058fcd4dd2e6b6428d2ca6cdb75dde17cb))
* **product:** update search_products.sql to align with new benchmark creation strategy ([ecb9cd8](https://github.com/bcgov/cas-ciip-portal/commit/ecb9cd8a989d383e0c90eb62c03785f64c252bfa))
* **product:** update table headers ([38c52b2](https://github.com/bcgov/cas-ciip-portal/commit/38c52b2fc6914d3dc72d994b25e075a6a6aeada3))
* **product:** update the retrieval of current/past benchmarks for a product ([b24b122](https://github.com/bcgov/cas-ciip-portal/commit/b24b1220a3db028904233e1a1132061d77201eef))
* **product:** use moment.js to convert modified column to a more readable format ([4e02607](https://github.com/bcgov/cas-ciip-portal/commit/4e02607dbaed1c62ad1c0e2a4aba92940b733782))
* facility table displays type, ghg id and last swrs report year ([67815d6](https://github.com/bcgov/cas-ciip-portal/commit/67815d6b497d20b91ab9fe985e043a04ead7b7ae))


### Bug Fixes

* add AS_CERTIFIER flag to index ([6438131](https://github.com/bcgov/cas-ciip-portal/commit/64381317c55b6e68277460685e22a6d66ada7721))
* add column 'is_energy_product' to product table ([3750784](https://github.com/bcgov/cas-ciip-portal/commit/3750784bd942cc0a5063216b169f9e7f575c53dd))
* add comment on security definer function ([9108056](https://github.com/bcgov/cas-ciip-portal/commit/9108056442af08b97251f1c6dee7e26a52c5ffa7))
* add fkey to search_certification_requests return type ([847facb](https://github.com/bcgov/cas-ciip-portal/commit/847facb7ba9c6b8e5ece87f73f3c823de25838b9))
* add guard clause to return null if there are no certificationUrls to display ([6421898](https://github.com/bcgov/cas-ciip-portal/commit/6421898378cd5358c04664d91c2b1b16f8fe37d1))
* add missing comma (syntax error) ([0a52160](https://github.com/bcgov/cas-ciip-portal/commit/0a521604a0ee8e22f127aa181deae0a3a62e5afb))
* Add omitted word from reporter dash copy ([91204e3](https://github.com/bcgov/cas-ciip-portal/commit/91204e3a1d9570abc8958079657b3f5cf5d76d26))
* add security definer to certifier access to facilities function ([744862e](https://github.com/bcgov/cas-ciip-portal/commit/744862ef10c5fcdd0ec7e3044c3ce401ee812d7a))
* add validation error for conflicting products where requires_emission_allocation = false ([089b327](https://github.com/bcgov/cas-ciip-portal/commit/089b327ca77579ff9edcd8acb23c62be96450194))
* allow industry users to view details of other users ([58500c8](https://github.com/bcgov/cas-ciip-portal/commit/58500c846e41e6635e18dc0509b369af1ad60510))
* Correct DST timezone offset for seed dates ([122db24](https://github.com/bcgov/cas-ciip-portal/commit/122db24b9201df6599dd99ba68e4931050dd5d01))
* Fix application ID in cert. redirect URL ([6e1352f](https://github.com/bcgov/cas-ciip-portal/commit/6e1352f6484a61297af6076e9c2cf17bbbc3a7d8))
* Fix user foreign key ref on certification_url ([121dd8c](https://github.com/bcgov/cas-ciip-portal/commit/121dd8cd467b47d47fc39aabbd8f9e7d8aa97d55))
* incentive payment uses incremental portion of CT ([a2f5ab9](https://github.com/bcgov/cas-ciip-portal/commit/a2f5ab970ea048e2557e6acf852a7af15682b978))
* remove a hardcoded value ([c22d0a8](https://github.com/bcgov/cas-ciip-portal/commit/c22d0a8ca53640b7c9ec9efaaaca1cceb9cfe73d))
* remove extra select/end ([b278db6](https://github.com/bcgov/cas-ciip-portal/commit/b278db69e38acc1ce86f467b3ba4e088e7265f43))
* roll back markdown-to-jsx version in resolutions ([60d1e2d](https://github.com/bcgov/cas-ciip-portal/commit/60d1e2dda64d36911eae3a19237bf9679bd457a7))
* show max possible incentive for product, update incentive segment ([f2b21e1](https://github.com/bcgov/cas-ciip-portal/commit/f2b21e15973cf3b9d813a2ec19cbbd25239366b9))
* throw exception in application_revision_ciip_incentive if incorrect number of products are reported ([0f4b994](https://github.com/bcgov/cas-ciip-portal/commit/0f4b99456896c434a7ea2dc1de48ad415c4f3cde))
* typescript was angry at the rowId key, pass it the id of the certificationUrl instead ([eabb5dd](https://github.com/bcgov/cas-ciip-portal/commit/eabb5dd9dcab8b0dd7a59e6b58fe8bd6bc792ef1))
* use asdf-node "import-relase-keyring" in tools docker image ([ca03f80](https://github.com/bcgov/cas-ciip-portal/commit/ca03f802a2094116fe3b358684472e028cbb9822))
* use asdf-node "import-release-keyring" ([6fc6251](https://github.com/bcgov/cas-ciip-portal/commit/6fc62510ade3ad7226f5b47ecead7462ca349184))
* **certifier:** fix 'uncheckable' checkbox in optional email for certifier ([3aa2657](https://github.com/bcgov/cas-ciip-portal/commit/3aa2657b02140d3b5d19a65378b88c33cc01388b))
* **facility:** remove extra join condition on created_at column ([4c2ae00](https://github.com/bcgov/cas-ciip-portal/commit/4c2ae008faa1c54afab92510a8bc4911504f7e20))
* **product:** add 'hidden-title' style to productCreatorContainer to hide jsonschemaform titles like in the ProductRowItemContainer ([075629e](https://github.com/bcgov/cas-ciip-portal/commit/075629efc79a4f23374a74fed454bbea2828435f))
* **search tables:** fixed cut off table headers for button columns / bad ordering in user-organisation table header ([b2862c3](https://github.com/bcgov/cas-ciip-portal/commit/b2862c39f364bb5e11c6693995d479d306a82e5d))


* **product:** make necessary column name changes to all references to ggircs_portal.product in other files ([a8c2c69](https://github.com/bcgov/cas-ciip-portal/commit/a8c2c691daa40c8df986ae271bc1f7dfcc12273e))

## [1.0.0-alpha.2](https://github.com/bcgov/cas-ciip-portal/compare/v1.0.0-alpha.1...v1.0.0-alpha.2) (2020-05-01)


### Features

* **admin-form:** remove fax number from admin form ([c6f1f4c](https://github.com/bcgov/cas-ciip-portal/commit/c6f1f4c091c4cfe709414567292bfbb44014be52))
* set HOST env variable when deploying the app ([c0a724f](https://github.com/bcgov/cas-ciip-portal/commit/c0a724f4590d80a067879158f75d5b98bac97348))
* **email:** add support for HOST env variable ([#587](https://github.com/bcgov/cas-ciip-portal/issues/587)) ([056f2d6](https://github.com/bcgov/cas-ciip-portal/commit/056f2d61eae30fb24dfecc500bf1b9a04b758648))
* error boundary shows a useful error message ([a398042](https://github.com/bcgov/cas-ciip-portal/commit/a39804215f90f8160f903c8560cd3f75770ca2d7))
* **fuel-form:** fuel units is a read-only field ([4a8e9be](https://github.com/bcgov/cas-ciip-portal/commit/4a8e9be2791fe11e94e475f01d54d4e5a420d499))
* **fuel-form:** remove methodology from fuel form ([0b68551](https://github.com/bcgov/cas-ciip-portal/commit/0b68551e2b286b1099007c2b75ab896f86df5f59))
* **keycloak:** remove bceid identity provider ([1cc40c6](https://github.com/bcgov/cas-ciip-portal/commit/1cc40c6ca849ec11253bef5efbfd570b071cdcc3))
* **product:** add EIO emissions as a product  ([8d22f60](https://github.com/bcgov/cas-ciip-portal/commit/8d22f60937065f086ecfc4b007cf211df8d5d885))
* **product:** add optional chaining for state-check ([9bd005b](https://github.com/bcgov/cas-ciip-portal/commit/9bd005bf7d28c02ef06e1df6dd953edeec9d4723))
* **product:** do not allow selection of inactive products from dropdown ([ad1ecff](https://github.com/bcgov/cas-ciip-portal/commit/ad1ecffd53d138eaacebd38b06f5a6f4ef00bfee))
* **product:** ensure that although we now fetch all products regardless of state, that inactive products cannot be selected ([d43479d](https://github.com/bcgov/cas-ciip-portal/commit/d43479d816eb90e4716855dd544d097eb109b851))
* **product:** show warning for deprecated/archived products & don't show them as options from the product dropdown ([29549e9](https://github.com/bcgov/cas-ciip-portal/commit/29549e99e2dc51cde13d90e4fb89c625f644b79c))
* **product:** update schema ([5c227b4](https://github.com/bcgov/cas-ciip-portal/commit/5c227b4e65a0a57e3dd0586b3d5f357f932dda8a))
* 1-step form validation ([48318d1](https://github.com/bcgov/cas-ciip-portal/commit/48318d1912c200daf38785e307c471f6512a17f8))
* Validate BC Corporate Registry Number format ([d6a1afd](https://github.com/bcgov/cas-ciip-portal/commit/d6a1afd31a59993a5fe6c2c04ff7605bf1fbaf38))


### Bug Fixes

* use 0 for undefined values ([d8a3542](https://github.com/bcgov/cas-ciip-portal/commit/d8a35426cef8667bbffbef4c973747898293bedf))
* use decimal.js-light library to fix inaccurate javascript decimal issue ([b981f2b](https://github.com/bcgov/cas-ciip-portal/commit/b981f2b18272188b43e76f9a7326b8e3b300ed6f))
* **ci:** fix misnamed ci job ([c9fc187](https://github.com/bcgov/cas-ciip-portal/commit/c9fc1872d9cadd213309d2dcae0e69139f5ee75f))
* **dependency:** add missing dependency for pg-8.0.2 -> graphile-build-pg ([2c3dcb7](https://github.com/bcgov/cas-ciip-portal/commit/2c3dcb72dde020b4ef9ea381b73bf2b70110a86d))
* **emissions-form:** fix typo in N2O gas name (was N20) ([0d20aec](https://github.com/bcgov/cas-ciip-portal/commit/0d20aec06166f8895554ac211594eefae13c536a))
* **facility:** pagination bar cannot go past last page ([11f3a94](https://github.com/bcgov/cas-ciip-portal/commit/11f3a945e9f5057dc5e1c279b9933cf5259d83ce))
* **facility:** provide organisationRowId as a variable to the search facilities function ([d787828](https://github.com/bcgov/cas-ciip-portal/commit/d787828f39c565130c4f21d474a21c030cac9539))
* **facility:** update search function to filter facilities by organisationRowId if organisationRowId is not null ([b30251d](https://github.com/bcgov/cas-ciip-portal/commit/b30251d3db598af4bd0d5d58cb5e044e195da81a))
* **revision status:** add a boolean value to application revision to indicate if it is the current version ([63ce822](https://github.com/bcgov/cas-ciip-portal/commit/63ce8222b1f6b9a40face4fb6b28cd1cb1bcfb9a))
* **revision status:** add a version_number_input variable to computed column for application revision status ([cc97e4b](https://github.com/bcgov/cas-ciip-portal/commit/cc97e4b9cd8c7597c32f7db41ee10c0e2bf24d4a))
* **revision status:** add version number inputs to other queries that pull the revision status ([ef1f3e7](https://github.com/bcgov/cas-ciip-portal/commit/ef1f3e776c1c0e1bea287c4400cd7d67f0907b4e))
* **revision status:** conditionally render a dropdown or disabled button depending on if the revision being viewed is the current version ([f5bd524](https://github.com/bcgov/cas-ciip-portal/commit/f5bd5244da8b1f99ae55ba0ff50231d6e283142a))
* **revision status:** create trigger to disallow changing the status of a non-current version of the application ([8662301](https://github.com/bcgov/cas-ciip-portal/commit/866230191af5a360dd64ec464950ba1071afdf59))
* **revision status:** fix search all facilities logic when retrieving application revision status ([bd733de](https://github.com/bcgov/cas-ciip-portal/commit/bd733de25406a15880dadeee7ef1dac8ff579a1f))
* **revision status:** Fix the search facilities function to return the proper revision status ([b61c2cb](https://github.com/bcgov/cas-ciip-portal/commit/b61c2cb760dd4ea16853a53f55d21307d024310e))
* **revision status:** remove unnecessary select ([c8f3def](https://github.com/bcgov/cas-ciip-portal/commit/c8f3def773dfb70540d4a16787e4004c4333fa60))
* **revision status:** update mutation to accept a version input & pass version from mutation call inside review container ([86a0063](https://github.com/bcgov/cas-ciip-portal/commit/86a006329529b9170d1d95683b1d29d9539f4ecb))
* **revision status:** use versionNumberInput variable when querying the status from a review (ensures proper status is shown for version being reviewed) ([5412c6b](https://github.com/bcgov/cas-ciip-portal/commit/5412c6b27bb3d1910fbd1dcc46bf75fedc3e6550))
* Add missing dependency required for Storybook ([429c877](https://github.com/bcgov/cas-ciip-portal/commit/429c8772ecec0e61e00685f62d79c4e1c084bf06))
* create portal_app database user with sqitch ([2d95365](https://github.com/bcgov/cas-ciip-portal/commit/2d953659ece01d55f02943fbd89367ed909868c4))
* NAICS code should be converted to a string when imported from swrs ([2c4f8e3](https://github.com/bcgov/cas-ciip-portal/commit/2c4f8e384600d147da713cd2b69debbd3c92294c))
* Remove unused older version of Bootstrap ([248b366](https://github.com/bcgov/cas-ciip-portal/commit/248b3669dfe9b8f527234a4051c7ea2ef7094b41))
* **server:** default db user should not be portal_app if NO_AUTH is used ([50eaa6f](https://github.com/bcgov/cas-ciip-portal/commit/50eaa6f3c1540a9702e57c03c92b8392565be54a))

## 1.0.0-alpha.1 (2020-04-17)


### âš  BREAKING CHANGES

* SWRS data is now loaded in the application creation mutation chain. Removed the swrs_* queries in the Application object
* JSON fields should not be parsed or stringified anymore

### Features

* **admin:** all products options are displayed when creating a product ([a5c5ddd](https://github.com/bcgov/cas-ciip-portal/commit/a5c5ddd898b14ac90c1a44cdc596e1c76046746b))
* **admin:** set default values and update titles in products creation ([530acc4](https://github.com/bcgov/cas-ciip-portal/commit/530acc4f4eb017102e6b0a0db47766d529115856))
* **emissions:** set default value for emission amounts to 0 ([fbb541b](https://github.com/bcgov/cas-ciip-portal/commit/fbb541b325aa1bae23c7180e8e64616529914bcd))
* **git-cz:** make this ugly-ass monorepo commitizen-friendly ([15c20dc](https://github.com/bcgov/cas-ciip-portal/commit/15c20dc00658bf06239b734a0dae5d5dddde11e1))
* **schema:** swrs schema is created by sqitch if not exists ([25714bd](https://github.com/bcgov/cas-ciip-portal/commit/25714bd1fe9453ad7c7b2d613e955cd4a3439821))
* NumberField renders as text if readonly is true ([83d5e7b](https://github.com/bcgov/cas-ciip-portal/commit/83d5e7bb228e71bde4b3a87304c874080f391dfd))


### Bug Fixes

* accepting cpan defaults blindly fails on openshift ([6126a3c](https://github.com/bcgov/cas-ciip-portal/commit/6126a3cfc2ff3da81723cbdf0a8328fa11de2266))
* Add isomorphic-fetch as a dependency ([66528c8](https://github.com/bcgov/cas-ciip-portal/commit/66528c89ac7954a224bad4a0474e8135a94c93bf))
* add selective dependency resolution to fix vulnerability ([1f5313c](https://github.com/bcgov/cas-ciip-portal/commit/1f5313c33eae463691c0a202013458ec38565465))
* benchmark numbers should be numeric instead of real ([76092c9](https://github.com/bcgov/cas-ciip-portal/commit/76092c9c3c58c426d7594989ad2f88304653bfe0))
* cpanm should use -l extlib option ([e00f9a4](https://github.com/bcgov/cas-ciip-portal/commit/e00f9a460d375aec1e0ba7f797400d07728bd159))
* do not import LFOs and EIOs from swrs + dedup facilities ([448139c](https://github.com/bcgov/cas-ciip-portal/commit/448139cbf5d485d55a261e5e3d9ead61a80ff606))
* do not pull swrs emissions where category is null ([74bca7c](https://github.com/bcgov/cas-ciip-portal/commit/74bca7c707e36772ab3d90135ad323d32178c58e))
* do not render ApplicationFormNavbar before setting formResultId ([234a228](https://github.com/bcgov/cas-ciip-portal/commit/234a2283a5e2d08bb161e3f3ddc9ec8c5e20f262))
* drop policies before re-creating them ([20e07a4](https://github.com/bcgov/cas-ciip-portal/commit/20e07a4ccb088638b8cb73a777eb5f2593ca6506))
* enable rsjf's safeRenderCompletion hack to prevent cursor jumps ([950c7e1](https://github.com/bcgov/cas-ciip-portal/commit/950c7e17713f65d65d8ec0f9ab5598f52caaf55b))
* fail revert job properly and increase activedeadlineseconds ([ee01fb3](https://github.com/bcgov/cas-ciip-portal/commit/ee01fb3f473cc982e1de62aa2006e7be1c18ae8f))
* https://www.npmjs.com/advisories/1488 ([18fcc91](https://github.com/bcgov/cas-ciip-portal/commit/18fcc91eb1919451394086c50d27456bdc3907fa))
* increase memory request to build app on pathfinder ([b260785](https://github.com/bcgov/cas-ciip-portal/commit/b2607854f8408a8b868ca688ead3ada1a3878b74))
* json objects in postgres should be created with jsonb_build_object ([e764d29](https://github.com/bcgov/cas-ciip-portal/commit/e764d29f4814354dd39e595327dd1e73f5bb2e1e))
* make install_perl_tools should call submake ([d0bc48c](https://github.com/bcgov/cas-ciip-portal/commit/d0bc48c502a7f9312bdb9f70669c2dc2eec9fc5c))
* NumberField should follow the "disabled" prop ([1018b7e](https://github.com/bcgov/cas-ciip-portal/commit/1018b7e7629b80968cf9d41c28f0623d4ef97152))
* NumberField sould always return a number ([62f86ba](https://github.com/bcgov/cas-ciip-portal/commit/62f86ba7118398e28ec453f90e16e0134419b447))
* paths in deploy-test-data should not use __dirname ([f89a44e](https://github.com/bcgov/cas-ciip-portal/commit/f89a44ef2e523e412285f5e16e9a47d0ba3098d3))
* remove isomorphic-unfetch ([673df8d](https://github.com/bcgov/cas-ciip-portal/commit/673df8d1e28bab4dd6f1242d8d31dd0702fba4e8))
* schema-deploy job name was not updated aver prefix rename ([ebeea52](https://github.com/bcgov/cas-ciip-portal/commit/ebeea5295d40f0dc28cefc223fcb5971d4986a9d))
* server/index.js should use commonjs imports ([00bfa7a](https://github.com/bcgov/cas-ciip-portal/commit/00bfa7a56fa224db8e19a19ad36d9b918091d9d9))
* skip tests when installing cpanm ([e7c1131](https://github.com/bcgov/cas-ciip-portal/commit/e7c1131b6ebb98a9a13a7231b67c77d3bd7d7e08))
* sqitch needs the `SQITCH_TARGET` and `PGHOST` variables ([73bec71](https://github.com/bcgov/cas-ciip-portal/commit/73bec71373a5b090a6983d03df1da19b3b7106ab))
* start url with https ([6a410d3](https://github.com/bcgov/cas-ciip-portal/commit/6a410d3b761d5d1e2f2e0fe113421943293cdd00))
* update case of energy products names ([02968cf](https://github.com/bcgov/cas-ciip-portal/commit/02968cff13410b4a4b92f30a010847c9e73b6498))
* use next getConfig instead of process.env to get FEEDBACK_SITE_URL ([d4dc5cb](https://github.com/bcgov/cas-ciip-portal/commit/d4dc5cb50dafa857f9ba9bae3987ec91f951c806))
* **authentication:** ensure malformed sessions are recoverable by logout ([26736e8](https://github.com/bcgov/cas-ciip-portal/commit/26736e87ef38aa2243b5d752279fd64d06e86eba))
* **ci:** pull the version of the submodules defined in the repo ([3888c3c](https://github.com/bcgov/cas-ciip-portal/commit/3888c3c4d2215acc2bc4b292e6aad73418c8045d))
* **circleci:** pathfinder build should wait for next.js compilation ([b6b51e3](https://github.com/bcgov/cas-ciip-portal/commit/b6b51e3b0903a51c5b50d75ae35aa5a77faa7aad))
* **config:** minified files are ignored by default ([c329a0a](https://github.com/bcgov/cas-ciip-portal/commit/c329a0af3c8c775579502210e35d7df61e9eb97e))
* **deploy-test-data:** form_result data should be deployed after gases ([4034c56](https://github.com/bcgov/cas-ciip-portal/commit/4034c56d58f2a3f3d40410e1e1f1349785c07a01))
* **deploy-test-data:** sqitch operations are done on the correct db ([4383b55](https://github.com/bcgov/cas-ciip-portal/commit/4383b55d52ab230acdb41791252a4808fad1c336))
* **form:** EmissionGasFields now converts emission amount to number ([ba1a062](https://github.com/bcgov/cas-ciip-portal/commit/ba1a0625072b63c7e3642af2d29cc433b97a4a4a))
* **next.config.js:** rename ts file to js so it isn't ignored by next ([3397428](https://github.com/bcgov/cas-ciip-portal/commit/3397428e8c32b01165d83df69a9c8121efa0d0a8))
* **security:** ensure marked is >= 0.7.0 ([0c05117](https://github.com/bcgov/cas-ciip-portal/commit/0c051177f3247c1592877be1020bbd1704d0d088))
* **security:** ensure terser-webpack-plugin is ^1.4.2 ([f67820c](https://github.com/bcgov/cas-ciip-portal/commit/f67820c2d3031655caa1a2019cd91894f954424e))
* **security:** mem 1.1.0 is vulnerable to DoS attack; use mem >= 4.0.0 ([ffd475a](https://github.com/bcgov/cas-ciip-portal/commit/ffd475a21926ec06685e577dbfc47bd745bba1f0))
* **security:** patch arbitrary code execution exploit ([98354c5](https://github.com/bcgov/cas-ciip-portal/commit/98354c5a208fffc2df5d1861d94e99a1c1e02b80))
* **snapshots:** snapshot drift caused by rebase ([b9a02dc](https://github.com/bcgov/cas-ciip-portal/commit/b9a02dcd73eb25377dc8ff0258cad69031251fc4))
* **style:** avoid abusing typescript ([76558b6](https://github.com/bcgov/cas-ciip-portal/commit/76558b6ae013fbb6eb7889f2650efe423c585e73))
* **style:** implement review feedback ([b4d19e2](https://github.com/bcgov/cas-ciip-portal/commit/b4d19e29ecc234b79d8624ede93ece1d8ac4640f))
* **style:** linter acts differently on CI; just write decent types ([b4b33b9](https://github.com/bcgov/cas-ciip-portal/commit/b4b33b9ed201d15617ab52fb00afe61d7a87fa6e))
* **style:** linter teh fings ([b96575e](https://github.com/bcgov/cas-ciip-portal/commit/b96575ee76358c52a1aeb73ca0cac93a0edab207))
* **style:** remove useless comments ([99e5ef0](https://github.com/bcgov/cas-ciip-portal/commit/99e5ef072dc0e061713ec05e080f102a9a655128))
* **typescript:** exclude unnecessary folders ([28777d0](https://github.com/bcgov/cas-ciip-portal/commit/28777d0b3fe1e343a6c1e39a682457343d452927))
* **typescript:** mock next/router should be the right type ([788ca40](https://github.com/bcgov/cas-ciip-portal/commit/788ca40782b9fdc489fedf2d17c38542600759f2))


### feature

* remove application_swrs_* functions ([7453a9c](https://github.com/bcgov/cas-ciip-portal/commit/7453a9cc275f920ce1ae976ab1f56489ac9d7182))
* Use postgraphile's `dynamicJson` option. ([bf2e831](https://github.com/bcgov/cas-ciip-portal/commit/bf2e83138c19de3b9a2f0431fba6bf7e93a02af7))

## 1.0.0-alpha.0
 (2020-04-15)
