{
  "schema": {
    "title": "Administrative Information",
    "type": "object",
    "properties": {
      "operator": {
        "title": "Operator Information",
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "title": "Legal name"
          },
          "tradeName": {
            "type": "string",
            "title": "Trade name"
          },
          "duns": {
            "type": "string",
            "title": "DUNS number",
            "pattern": "\\d{9}"
          },
          "bcCorporateRegistryNumber": {
            "type": "string",
            "title": "BC Corporate Registry number"
          },
          "naics": {
            "type": "string",
            "title": "NAICS code"
          },
          "mailingAddress": {
            "title": "Operator Mailing Address",
            "$ref": "#/definitions/address"
          }
        }
      },
      "operationalRepresentative": {
        "type": "object",
        "title": "Operational Representative",
        "properties": {
          "firstName": { "title": "First Name", "type": "string" },
          "lastName": { "title": "Last Name", "type": "string" },
          "position": { "title": "Position/Title", "type": "string" },
          "email": { "title": "Email Address", "type": "string" },
          "phone": { "title": "Telephone Number", "type": "string" },
          "fax": { "title": "Fax Number", "type": "string" },
          "mailingAddress": {
            "title": "Operational Representative Mailing Address",
            "$ref": "#/definitions/address"
          }
        }
      },
      "facility": {
        "title": "Facility Information",
        "type": "object",
        "properties": {
          "facilityName": { "title": "Facility Name", "type": "string" },
          "facilityType": {
            "type": "string",
            "title": "Facility Type",
            "enum": ["IF_a", "IF_b", "L_c", "SFO", "LFO", "EIO"]
          },
          "bcghgid": {
            "type": "string",
            "title": "BCGHG ID Number"
          },
          "naics": {
            "type": "string",
            "title": "NAICS Code"
          },
          "mailingAddress": {
            "title": "Facility Mailing Address",
            "$ref": "#/definitions/address"
          },
          "isFacilityLocationDifferent": {
            "title": "Is the facility location different from the mailing address?",
            "type": "boolean",
            "enumNames": [" Yes", " No"]
          }
        },
        "dependencies": {
          "isFacilityLocationDifferent": {
            "oneOf": [
              {
                "properties": {
                  "isFacilityLocationDifferent": { "const": false }
                }
              },
              {
                "properties": {
                  "isFacilityLocationDifferent": { "const": true },
                  "facilityLocation": {
                    "type": "object",
                    "title": "Facility Location",
                    "properties": {
                      "locationStreetAddress": {
                        "title": "Location of the facility",
                        "type": "string"
                      },
                      "locationNearestCity": {
                        "title": "Nearest City",
                        "type": "string"
                      },
                      "latitude": {
                        "title": "Latitude",
                        "type": "number"
                      },
                      "longitute": {
                        "title": "Longitude",
                        "type": "number"
                      }
                    }
                  }
                }
              }
            ]
          }
        }
      }
    },
    "definitions": {
      "address": {
        "type": "object",
        "properties": {
          "streetAddress": { "title": "Street address", "type": "string" },
          "city": { "title": "City", "type": "string" },
          "province": {
            "title": "Province or Territory",
            "type": "string",
            "enum": [
              "Alberta",
              "British Columbia",
              "Manitoba",
              "New Brunswick",
              "Newfoundland and Labrador",
              "Northwest Territories",
              "Nova Scotia",
              "Nunavut",
              "Ontario",
              "Prince Edward Island",
              "Quebec",
              "Saskatchewan",
              "Yukon"
            ]
          },
          "postalCode": {
            "title": "Postal Code",
            "type": "string",
            "format": "postal-code"
          }
        }
      }
    }
  },
  "customFormats": { "postal-code": "[A-Z][0-9][A-Z] [0-9][A-Z][0-9]" },
  "uiSchema": {
    "ui:order": ["operator", "operationalRepresentative", "facility"],
    "operator": {
      "ui:order": [
        "name",
        "tradeName",
        "naics",
        "bcCorporateRegistryNumber",
        "duns",
        "mailingAddress"
      ],
      "mailingAddress": {
        "ui:order": ["streetAddress", "city", "postalCode", "province"]
      },
      "naics": {
        "ui:col-md": 4
      },
      "duns": {
        "ui:col-md": 4
      },
      "bcCorporateRegistryNumber": {
        "ui:col-md": 4
      }
    },
    "operationalRepresentative": {
      "ui:order": [
        "firstName",
        "lastName",
        "position",
        "email",
        "phone",
        "fax",
        "mailingAddress"
      ],
      "mailingAddress": {
        "ui:order": ["streetAddress", "city", "postalCode", "province"]
      }
    },
    "facility": {
      "ui:order": [
        "facilityName",
        "facilityType",
        "bcghgid",
        "naics",
        "mailingAddress",
        "isFacilityLocationDifferent",
        "facilityLocation"
      ],
      "mailingAddress": {
        "ui:order": ["streetAddress", "city", "postalCode", "province"]
      },
      "isFacilityLocationDifferent": {
        "ui:widget": "radio"
      },
      "facilityLocation": {
        "ui:order": [
          "locationStreetAddress",
          "locationNearestCity",
          "latitude",
          "longitute"
        ]
      }
    }
  }
}
