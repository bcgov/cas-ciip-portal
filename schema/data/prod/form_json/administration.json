{
  "schema": {
    "type": "object",
    "properties": {
      "facility": {
        "type": "object",
        "title": "Facility Information",
        "required": [
          "naics",
          "bcghgid",
          "facilityName",
          "facilityType",
          "isFacilityLocationDifferent"
        ],
        "properties": {
          "naics": {
            "type": "number",
            "title": "NAICS Code"
          },
          "bcghgid": {
            "type": "number",
            "title": "BCGHG ID Number"
          },
          "facilityName": {
            "type": "string",
            "title": "Facility Name"
          },
          "facilityType": {
            "enum": [
              "IF_a",
              "IF_b",
              "L_c",
              "SFO",
              "LFO",
              "EIO"
            ],
            "type": "string",
            "title": "Facility Type"
          },
          "mailingAddress": {
            "$ref": "#/definitions/address",
            "title": "Facility Mailing Address"
          },
          "isFacilityLocationDifferent": {
            "type": "boolean",
            "title": "Is the facility location different from the mailing address?",
            "enumNames": [
              " Yes",
              " No"
            ]
          }
        },
        "dependencies": {
          "isFacilityLocationDifferent": {
            "oneOf": [
              {
                "properties": {
                  "isFacilityLocationDifferent": {
                    "const": false
                  }
                }
              },
              {
                "properties": {
                  "facilityLocation": {
                    "type": "object",
                    "title": "Facility Location",
                    "properties": {
                      "latitude": {
                        "type": "number",
                        "title": "Latitude"
                      },
                      "longitude": {
                        "type": "number",
                        "title": "Longitude"
                      },
                      "locationNearestCity": {
                        "type": "string",
                        "title": "Nearest City"
                      },
                      "locationStreetAddress": {
                        "type": "string",
                        "title": "Location of the facility"
                      }
                    }
                  },
                  "isFacilityLocationDifferent": {
                    "const": true
                  }
                }
              }
            ]
          }
        }
      },
      "operator": {
        "type": "object",
        "title": "Operator Information",
        "required": [
          "duns",
          "name",
          "naics",
          "tradeName",
          "bcCorporateRegistryNumber"
        ],
        "properties": {
          "duns": {
            "type": "string",
            "title": "DUNS number",
            "format": "duns"
          },
          "name": {
            "type": "string",
            "title": "Legal name"
          },
          "naics": {
            "type": "number",
            "title": "NAICS code"
          },
          "tradeName": {
            "type": "string",
            "title": "Trade name"
          },
          "mailingAddress": {
            "$ref": "#/definitions/address",
            "title": "Operator Mailing Address"
          },
          "bcCorporateRegistryNumber": {
            "type": "number",
            "title": "BC Corporate Registry number"
          }
        }
      },
      "operationalRepresentative": {
        "type": "object",
        "title": "Operational Representative",
        "required": [
          "email",
          "phone",
          "lastName",
          "position",
          "firstName"
        ],
        "properties": {
          "fax": {
            "type": "string",
            "title": "Fax Number"
          },
          "email": {
            "type": "string",
            "title": "Email Address"
          },
          "phone": {
            "type": "string",
            "title": "Telephone Number"
          },
          "lastName": {
            "type": "string",
            "title": "Last Name"
          },
          "position": {
            "type": "string",
            "title": "Position/Title"
          },
          "firstName": {
            "type": "string",
            "title": "First Name"
          },
          "mailingAddress": {
            "$ref": "#/definitions/address",
            "title": "Operational Representative Mailing Address"
          }
        }
      }
    },
    "definitions": {
      "address": {
        "type": "object",
        "required": [
          "streetAddress",
          "postalCode",
          "province",
          "city"
        ],
        "properties": {
          "city": {
            "type": "string",
            "title": "City"
          },
          "province": {
            "enum": [
              "Alberta",
              "British Columbia",
              "Manitoba",
              "New Brunswick",
              "Newfoundland and Labrador",
              "Northwest Territories",
              "Nova Scotia",
              "Nunavut",
              "Ontario",
              "Prince Edward Island",
              "Quebec",
              "Saskatchewan",
              "Yukon"
            ],
            "type": "string",
            "title": "Province or Territory"
          },
          "postalCode": {
            "type": "string",
            "title": "Postal Code",
            "format": "postal-code"
          },
          "streetAddress": {
            "type": "string",
            "title": "Street address"
          }
        }
      }
    }
  },
  "uiSchema": {
    "facility": {
      "naics": {
        "ui:no-seperator": true
      },
      "bcghgid": {
        "ui:no-seperator": true
      },
      "ui:order": [
        "facilityName",
        "facilityType",
        "bcghgid",
        "naics",
        "mailingAddress",
        "isFacilityLocationDifferent",
        "facilityLocation"
      ],
      "mailingAddress": {
        "ui:order": [
          "streetAddress",
          "city",
          "postalCode",
          "province"
        ]
      },
      "facilityLocation": {
        "latitude": {
          "ui:no-seperator": true
        },
        "ui:order": [
          "locationStreetAddress",
          "locationNearestCity",
          "latitude",
          "longitude"
        ],
        "longitude": {
          "ui:no-seperator": true
        }
      },
      "isFacilityLocationDifferent": {
        "ui:widget": "radio"
      }
    },
    "operator": {
      "duns": {
        "ui:col-md": 4
      },
      "naics": {
        "ui:col-md": 4,
        "ui:no-seperator": true
      },
      "ui:order": [
        "name",
        "tradeName",
        "naics",
        "bcCorporateRegistryNumber",
        "duns",
        "mailingAddress"
      ],
      "mailingAddress": {
        "ui:order": [
          "streetAddress",
          "city",
          "postalCode",
          "province"
        ]
      },
      "bcCorporateRegistryNumber": {
        "ui:col-md": 4,
        "ui:no-seperator": true
      }
    },
    "ui:order": [
      "operator",
      "operationalRepresentative",
      "facility"
    ],
    "operationalRepresentative": {
      "fax": {
        "ui:options": {
          "inputType": "tel"
        }
      },
      "phone": {
        "ui:options": {
          "inputType": "tel"
        }
      },
      "ui:order": [
        "firstName",
        "lastName",
        "position",
        "email",
        "phone",
        "fax",
        "mailingAddress"
      ],
      "mailingAddress": {
        "ui:order": [
          "streetAddress",
          "city",
          "postalCode",
          "province"
        ]
      }
    }
  },
  "customFormats": {
    "duns": "^\\d{9}$",
    "email": "^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$",
    "postal-code": "[\\w][0-9][\\w] [0-9][\\w][0-9]"
  },
  "customFormatsErrorMessages": {
    "duns": "DUNS number should be nine digits",
    "email": "Please enter a valid email",
    "postal-code": "Format should be A1A 1A1"
  }
}
